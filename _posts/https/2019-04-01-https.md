---
layout: post
title: "https"
date: 2019-04-01
tag: php
---

阿里云免费https证书申请 ssl证书

多个域名 并备案好的

有个linux系统

nginx  tomcat  mysql

nginx反向代理操作   多个web项目

nginx 80端口

Nginx ("engine x") 是一个`高性能的HTTP和反向代理服务器`，也是一个IMAP/POP3/SMTP服务器。Nginx是由Igor Sysoev为俄罗斯访问量第二的Rambler.ru站点开发的。<br>
何为反向代理呢？即以`代理服务器`来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。<br>
而Nginx主要完成的工作就是反向代理，比如我们向一台服务器的80端口发送了请求，该请求首先由Nginx监听到，其接受到请求内容后再转发给其他服务器，其他服务器处理完后再将结果传送给Nginx，最后由Nginx来统一返回给初始请求端。<br>
Nginx最常见的使用方法就是作为静态资源服务器，比如将CSS，JS，html，htm等文件进行缓存处理。

要做nginx负载均衡，因为我只有一台服务器，启动两个tomcat（tomcat1和tomcat2）

运行同一个项目，tomcat1配置端口：8080；tomcat2配置端口：8081

`安装依赖`

```
yum install gcc
yum install pcre-devel
yum install zlib zlib-devel
yum install openssl openssl-devel
//一键安装上面四个依赖
yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel
```

`下载nginx的tar包`

```
//创建一个文件夹
cd /usr/local
mkdir nginx
cd nginx
//下载tar包
wget http://nginx.org/download/nginx-1.13.7.tar.gz
tar -xvf nginx-1.16.0.tar.gz

sftp over ssh 22端口
可以上传本地下载的nginx tar 包
ll
tar -xzvf nginx-1.16.0.tar.gz
```

`安装nginx`

```
//进入nginx目录
cd /usr/local/nginx
//执行命令
./configure
//执行make命令
make
//执行make install命令
make install
```

`Nginx常用命令`

```
//测试配置文件
安装路径下的/nginx/sbin/nginx -t

//启动命令
安装路径下的/nginx/sbin/nginx
//停止命令
安装路径下的/nginx/sbin/nginx -s stop
或者 : nginx -s quit
//重启命令
安装路径下的/nginx/sbin/nginx -s reload

//查看进程命令
ps -ef | grep nginx

//平滑重启
kill -HUP Nginx主进程号
```

`配置防火墙`

```
//打开防火墙文件
sudo vim /etc/sysconfig/iptables
//新增行  开放80端口
-A INPUT -p tcp -m state --state NEW -m tcp --dport 80 -j ACCEPT
//保存退

//重启防火墙
sudo service iptables restart
```

`Nginx虚拟域名配置及测试验证`

```
//编辑nginx.conf
sudo vim /usr/local/nginx/conf/nginx.conf
//增加行
include vhost/*.conf
//保存退出

//在/usr/local/nginx/conf目录新建vhost文件夹
mkdir vhost
//创建每个域名的配置
sudo vim jimisun.com.conf
//节点中增加入响应的配置 端口转发  或者访问文件系统
```

`Nginx启动`

```
//进入nginx安装目录
cd sbin
sudo ./nginx
```

`测试访问`

```
http://ip地址
```

---------------------------------

`论小说写作难`

```
putty ip 连接后
ll
total 0
yum install gcc-c++
y
yum install -y pcre pcre-devel
yum install -y zlib zlib-devel
yum install -y openssl openssl-devel
yum -y install wget

使用ftp工具上传我们下载的nginx包到服务器
/root/...

ll
1 file
tar -xzvf nginx-1.16.0.tar.gz
ll
1 files
cd nginx-1.16.0
ll

配置编码安装
./configure \
--with-http_stub_status_module
--with-http_ssl_module

./configure \
--with-http_ssl_module

cd /var
ll
mkdir temp
ll
cd temp
mkdir nginx
cd ~
ll
cd nginx-1.16.0
ll
make

阿里云 SSL证书（应用安全） 购买
Symantec 品牌
免费型 DV SSL















```













---------------
