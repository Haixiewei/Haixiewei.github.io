---
layout: post
title: "config"
date: 2019-01-20
tag: tp5
---

### 配个config目录

入口文件中定义配置目录

```
define('CONF_PATH', __DIR__ . '/../config/');

```

config目录下创建config.php 也可以加个限制目录index 让每个模块定制配置

```
<?php

return[
  'site_name' => 'eee',
];
```

控制器文件中可以 config('site_name')

二级配置 [config/index/extra/aaa.php] 生成aaa数组的二级配置

控制器中可用 var_dump(config(aaa)); 生成二维数组

配置优先级，优先级高的设置相同配置会覆盖优先级低的，自定义配置目录下的要优先于应用目录下的配置文件

即：

config/模块/extra/配置文件   优先级高于 application/模块/extra/配置文件

config/模块/config.php 优先级高于 application/模块/config.php

config/config.php 优先级高于 application/config.php　　

### 多入口文件配置

admin.php

```
<?php
// [ 后台应用入口文件 ]
// 定义应用目录
define('APP_PATH', __DIR__ . '/../application/');
//定义自定义的配置目录
define('CONF_PATH', __DIR__ . '/../config/');

//绑定admin模块
define('BIND_MODULE','admin/Index');

// 加载框架引导文件
require __DIR__ . '/../thinkphp/start.php';
```

thinkphp/start.php

```
namespace think;

// ThinkPHP 引导文件
// 1. 加载基础文件
require __DIR__ . '/base.php';

App::route(false);//关闭路由

// 2. 执行应用
App::run()->send();
```
