---
layout: post
title: "小小谈谈tp5"
date: 2019-01-19
tag: tp5
---

### 架构总览：  

  * tp5 基于MVC方式来组织 model模型 <- controller控制器 -> view视图

  * 模型与视图 用控制器强制分离 数据请求与展示由控制器统一调配

  * url访问默认采用PATH_INFO方式 [协议://域名/入口文件/模块/控制器/操作/param...]

  * 入口文件是整个web应用的起点 常用index.php 并不唯一 例如后台单独设置入口文件admin.php

  * 入口文件可以通过url重写功能将其隐藏 public/.htaccess 也就是额外配置web服务器的重写规则

  * application应用 是url请求到完成的(生命周期)处理对象 由think\APP类处理 [thinkphp/library/think/APP.php]

  * 可以为不同的应用创建多个 入口文件 如后台的 admin.php

  * 应用有自己 独立的配置文件config.php 和公共函数文件common.php

  * module 模块

  * 一个应用下有多个模块 对应不同部分 如前台 后台

  * 每个模块都可以有完整的mvc类库

  * 每个module有自己 独立的配置文件config.php 和公共函数文件common.php

  * 若应用简单 可以用单模块模式 在惯例配置文件中 [thinkphp/convention.php]
  是否支持多模块 'app_multi_module' => false,

  * controller 控制器

  * 每个模块下可以有多个控制器负责响应url请求

  * 每个控制器对应一个控制器类 如User.php

  * 控制器 管理着model和view 是系统资源调度和分配中心

  * tp5 控制器不需继承 任何基类就可以工作

  * action 操作

  * url请求最小单元 控制器操作方法 整个应用的最终执行单元 url路由的核心与目标

  * model 模型

  * 主要针对数据库进行curd操作[增删改查] 也可以不操作数据库

  * 模型返回的数据 通常是数组或字符串

  * 模型支持分层操作 如逻辑/服务/事件层

  * view 视图

  * 控制器调用模型返回的数据 通过视图转换成不同的格式输出

  * 根据类的命名空间可以快速定位文件位置， 在 ThinkPHP5.0 的规范里面， 命名空间其实对应了文件的所
在目录， app 命名空间通常代表了文件的起始目录为 application ， 而 think 命名空间则代表了文
件目录为 thinkphp/library/think ， 后面的命名空间则表示从起始目录开始的子目录。
